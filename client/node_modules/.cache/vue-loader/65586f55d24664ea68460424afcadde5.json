{"remainingRequest":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\src\\components\\tree\\tree.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\src\\components\\tree\\tree.vue","mtime":1619169822000},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\node_modules\\babel-loader\\lib\\index.js","mtime":1755258879229},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\bysj-client\\node_modules\\vue-loader\\lib\\index.js","mtime":1755258879809}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0IGFwaSBmcm9tICJAL2FwaSI7DQogICAgaW1wb3J0IHtlYWNoLCBlbXB0eX0gZnJvbSAiQC91dGlscy9leHRlbmQiOw0KICAgIGltcG9ydCBUcmVlU2VsZWN0IGZyb20gJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0Jw0KICAgIGltcG9ydCAnQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MnDQoNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6ICJlLXRyZWUiLA0KICAgICAgICBkYXRhKCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBsaXN0OltdDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvbXBvbmVudHM6ew0KICAgICAgICAgICAgVHJlZVNlbGVjdA0KICAgICAgICB9LA0KICAgICAgICBwcm9wczp7DQogICAgICAgICAgICB2YWx1ZTpbU3RyaW5nLE51bWJlcl0sDQogICAgICAgICAgICBtb2R1bGU6ew0KICAgICAgICAgICAgICAgIHR5cGU6U3RyaW5nLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOnRydWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpc1BhcmVudDp7DQogICAgICAgICAgICAgICAgdHlwZTpCb29sZWFuLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwYXJlbnROYW1lOnsNCiAgICAgICAgICAgICAgICB0eXBlOlN0cmluZywNCiAgICAgICAgICAgICAgICBkZWZhdWx0OifpobbnuqfliIbnsbsnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbGFiZWw6ew0KICAgICAgICAgICAgICAgIHR5cGU6U3RyaW5nLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcGlkOnsNCiAgICAgICAgICAgICAgICB0eXBlOlN0cmluZywNCiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB3YXRjaDoge30sDQogICAgICAgIGNvbXB1dGVkOiB7fSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgICAgbG9hZFNlbGVjdExpc3QoKXsNCiAgICAgICAgICAgICAgICB0aGlzLiRwb3N0KGFwaS5zZWFyY2guYWxsLHsNCiAgICAgICAgICAgICAgICAgICAgdGFibGU6dGhpcy5tb2R1bGUsDQogICAgICAgICAgICAgICAgICAgIG9yZGVyOidpZCBhc2MnDQogICAgICAgICAgICAgICAgfSkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmNvZGUgPT0gYXBpLmNvZGUuT0spDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmxvYWRDaGlsZHJlbihyZXMuZGF0YSAsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5pc1BhcmVudCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnVuc2hpZnQoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDonMCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOnRoaXMucGFyZW50TmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gcmVzdWx0DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBsb2FkQ2hpbGRyZW4oIGxpc3QgLCBwYXJlbnRpZCApew0KICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmdldENoaWxkKGxpc3QgLCBwYXJlbnRpZCk7DQogICAgICAgICAgICAgICAgLy92YXIgbGVuZ3RoID0gbGlzdC5sZW5ndGg7DQogICAgICAgICAgICAgICAgZWFjaChyZXN1bHQgLCAoaSxvYmopPT57DQogICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMubG9hZENoaWxkcmVuKGxpc3QgLCBvYmouaWQpOw0KICAgICAgICAgICAgICAgICAgICBpZighZW1wdHkoY2hpbGQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5pc0RlZmF1bHRFeHBhbmRlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBvYmouY2hpbGRyZW4gPSBjaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBnZXRDaGlsZChsaXN0ICwgcGFyZW50aWQpew0KICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgICAgICAvL3ZhciBsZW5ndGggPSBsaXN0Lmxlbmd0aDsNCiAgICAgICAgICAgICAgICBlYWNoKGxpc3QgLCAoaSxvYmopPT57DQogICAgICAgICAgICAgICAgICAgIGlmKG9ialt0aGlzLnBpZF0gPT0gcGFyZW50aWQpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5sYWJlbCA9IG9ialt0aGlzLmxhYmVsXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9iaik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNyZWF0ZWQoKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRTZWxlY3RMaXN0KCk7DQogICAgICAgIH0sDQogICAgICAgIG1vdW50ZWQoKSB7DQogICAgICAgIH0sDQogICAgICAgIGRlc3Ryb3llZCgpIHsNCiAgICAgICAgfQ0KICAgIH0NCg=="},{"version":3,"sources":["tree.vue"],"names":[],"mappings":";AAcA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tree.vue","sourceRoot":"src/components/tree","sourcesContent":["<template>\r\n    <div class=\"e-tree\">\r\n        <tree-select\r\n                :options=\"list\"\r\n                placeholder=\"请选择分类...\"\r\n                :value=\"value\"\r\n                @input=\"$emit('input' , $event)\"\r\n        />\r\n    </div>\r\n</template>\r\n<style type=\"text/scss\" lang=\"scss\">\r\n\r\n</style>\r\n<script>\r\n    import api from \"@/api\";\r\n    import {each, empty} from \"@/utils/extend\";\r\n    import TreeSelect from '@riophae/vue-treeselect'\r\n    import '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\n    export default {\r\n        name: \"e-tree\",\r\n        data() {\r\n            return {\r\n                list:[]\r\n            }\r\n        },\r\n        components:{\r\n            TreeSelect\r\n        },\r\n        props:{\r\n            value:[String,Number],\r\n            module:{\r\n                type:String,\r\n                required:true\r\n            },\r\n            isParent:{\r\n                type:Boolean,\r\n                default:false\r\n            },\r\n            parentName:{\r\n                type:String,\r\n                default:'顶级分类'\r\n            },\r\n            label:{\r\n                type:String,\r\n                required: true\r\n            },\r\n            pid:{\r\n                type:String,\r\n                required: true\r\n            }\r\n        },\r\n        watch: {},\r\n        computed: {},\r\n        methods: {\r\n            loadSelectList(){\r\n                this.$post(api.search.all,{\r\n                    table:this.module,\r\n                    order:'id asc'\r\n                }).then(res=>{\r\n                    if(res.code == api.code.OK)\r\n                    {\r\n                        var result = this.loadChildren(res.data , 0);\r\n                        if(this.isParent){\r\n                            result.unshift({\r\n                                id:'0',\r\n                                label:this.parentName\r\n                            });\r\n                        }\r\n                        this.list = result\r\n                    }\r\n                });\r\n            },\r\n            loadChildren( list , parentid ){\r\n                var result = this.getChild(list , parentid);\r\n                //var length = list.length;\r\n                each(result , (i,obj)=>{\r\n                    var child = this.loadChildren(list , obj.id);\r\n                    if(!empty(child)){\r\n                        obj.isDefaultExpanded = true;\r\n                        obj.children = child;\r\n                    }\r\n                })\r\n                return result;\r\n            },\r\n            getChild(list , parentid){\r\n                var result = [];\r\n                //var length = list.length;\r\n                each(list , (i,obj)=>{\r\n                    if(obj[this.pid] == parentid)\r\n                    {\r\n                        obj.label = obj[this.label];\r\n                        result.push(obj);\r\n                    }\r\n                })\r\n                return result;\r\n            }\r\n        },\r\n        created() {\r\n            this.loadSelectList();\r\n        },\r\n        mounted() {\r\n        },\r\n        destroyed() {\r\n        }\r\n    }\r\n</script>\r\n"]}]}