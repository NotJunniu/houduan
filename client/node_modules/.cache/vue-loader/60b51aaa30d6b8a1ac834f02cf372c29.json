{"remainingRequest":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\audio\\audio.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\audio\\audio.vue","mtime":1619169822000},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1755258879229},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1755258879809}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgaW1wb3J0ICcuL2Fzc2V0L2ljb24vTUtQbGF5ZXIuc2NzcycNCiAgICBpbXBvcnQge2Zvcm1hdEltYWdlU3JjfSBmcm9tICJAL3V0aWxzL3V0aWxzIjsNCg0KICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkgew0KICAgICAgICB2YXIgaG91ciwgbWludXRlLCBzZWNvbmQ7DQogICAgICAgIGhvdXIgPSAocGFyc2VJbnQodGltZSAvIDM2MDAsIDEwKSk7DQogICAgICAgIGlmIChob3VyIDwxMCkgaG91ciA9ICcwJyArIGhvdXI7DQoNCiAgICAgICAgbWludXRlID0gKHBhcnNlSW50KCh0aW1lICUgMzYwMCkgLyA2MCwgMTApKTsNCiAgICAgICAgaWYgKG1pbnV0ZSA8IDEwKSBtaW51dGUgPSAnMCcgKyBtaW51dGU7DQoNCiAgICAgICAgc2Vjb25kID0gKHBhcnNlSW50KHRpbWUgJSA2MCwgMTApKTsNCiAgICAgICAgaWYgKHNlY29uZCA8IDEwKSBzZWNvbmQgPSAnMCcgKyBzZWNvbmQ7DQoNCiAgICAgICAgaWYgKGhvdXIgPiAwKSB7DQogICAgICAgICAgICByZXR1cm4gaG91ciArICI6IiArIG1pbnV0ZSArICI6IiArIHNlY29uZDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBtaW51dGUgKyAiOiIgKyBzZWNvbmQ7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6ICJlLWF1ZGlvIiwNCiAgICAgICAgZGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgcGxheVN0YXRlOmZhbHNlLA0KICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOjAsDQogICAgICAgICAgICAgICAgZHVyYXRpb246MCwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcHJvcHM6ew0KICAgICAgICAgICAgc3JjOlN0cmluZw0KICAgICAgICB9LA0KICAgICAgICB3YXRjaDoge30sDQogICAgICAgIGNvbXB1dGVkOiB7DQogICAgICAgICAgICBjdXJyVGltZSgpew0KICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lKHRoaXMuY3VycmVudFRpbWUpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZW5kVGltZSgpew0KICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lKHRoaXMuZHVyYXRpb24pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6IHsNCiAgICAgICAgICAgIGZvcm1hdEltYWdlU3JjLA0KICAgICAgICAgICAgY2FucGxheSgpew0KICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZSgpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdXBkYXRlVGltZSgpew0KICAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLiRyZWZzLmF1ZGlvLmR1cmF0aW9uDQogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMuJHJlZnMuYXVkaW8uY3VycmVudFRpbWUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwbGF5QXVkaW8oKXsNCiAgICAgICAgICAgICAgICBpZih0aGlzLnBsYXlTdGF0ZSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGF1c2UoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5U3RhdGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hdWRpby5wbGF5KCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucGxheVN0YXRlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcGxheSgpew0KICAgICAgICAgICAgICAgIHRoaXMucGxheVN0YXRlID0gdHJ1ZTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwYXVzZSgpew0KICAgICAgICAgICAgICAgIHRoaXMucGxheVN0YXRlID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNyZWF0ZWQoKSB7DQoNCiAgICAgICAgfSwNCiAgICAgICAgbW91bnRlZCgpIHsNCg0KICAgICAgICB9LA0KICAgICAgICBkZXN0cm95ZWQoKSB7DQogICAgICAgIH0NCiAgICB9DQo="},{"version":3,"sources":["audio.vue"],"names":[],"mappings":";AAoBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"audio.vue","sourceRoot":"src/components/audio","sourcesContent":["<template>\r\n    <span class=\"e-audio\">\r\n        <a :href=\"formatImageSrc(src)\" download target=\"_blank\">下载</a>\r\n        <span class=\"mkicon\" @click=\"playAudio\" :class=\"{'mkicon-play':!playState,'mkicon-pause':playState}\"></span>\r\n        <span>{{currTime}}</span>\r\n        /\r\n        <span>{{endTime}}</span>\r\n        <audio :src=\"formatImageSrc(src)\" @canplay=\"canplay\" @timeupdate=\"updateTime\" preload=\"auto\" ref=\"audio\" @play=\"play\" @pause=\"pause\" @ended=\"pause\" @error=\"pause\"></audio>\r\n    </span>\r\n</template>\r\n<style type=\"text/scss\" lang=\"scss\">\r\n.e-audio{\r\n    .mkicon{\r\n        font-size: 16px;\r\n        color: #888888;\r\n    }\r\n}\r\n</style>\r\n\r\n<script>\r\n    import './asset/icon/MKPlayer.scss'\r\n    import {formatImageSrc} from \"@/utils/utils\";\r\n\r\n    function formatTime(time) {\r\n        var hour, minute, second;\r\n        hour = (parseInt(time / 3600, 10));\r\n        if (hour <10) hour = '0' + hour;\r\n\r\n        minute = (parseInt((time % 3600) / 60, 10));\r\n        if (minute < 10) minute = '0' + minute;\r\n\r\n        second = (parseInt(time % 60, 10));\r\n        if (second < 10) second = '0' + second;\r\n\r\n        if (hour > 0) {\r\n            return hour + \":\" + minute + \":\" + second;\r\n        } else {\r\n            return minute + \":\" + second;\r\n        }\r\n    }\r\n\r\n    export default {\r\n        name: \"e-audio\",\r\n        data() {\r\n            return {\r\n                playState:false,\r\n                currentTime:0,\r\n                duration:0,\r\n            }\r\n        },\r\n        props:{\r\n            src:String\r\n        },\r\n        watch: {},\r\n        computed: {\r\n            currTime(){\r\n                return formatTime(this.currentTime)\r\n            },\r\n            endTime(){\r\n                return formatTime(this.duration)\r\n            }\r\n        },\r\n        methods: {\r\n            formatImageSrc,\r\n            canplay(){\r\n                this.updateTime()\r\n            },\r\n            updateTime(){\r\n                this.duration = this.$refs.audio.duration\r\n                this.currentTime = this.$refs.audio.currentTime\r\n            },\r\n            playAudio(){\r\n                if(this.playState){\r\n                    this.$refs.audio.pause();\r\n                    this.playState = false;\r\n                }else{\r\n                    this.$refs.audio.play();\r\n                    this.playState = true;\r\n                }\r\n            },\r\n            play(){\r\n                this.playState = true;\r\n            },\r\n            pause(){\r\n                this.playState = false;\r\n            }\r\n        },\r\n        created() {\r\n\r\n        },\r\n        mounted() {\r\n\r\n        },\r\n        destroyed() {\r\n        }\r\n    }\r\n</script>\r\n"]}]}