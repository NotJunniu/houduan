{"remainingRequest":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\paper\\paper-form.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\paper\\paper-form.vue","mtime":1619169822000},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1755258879229},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1755258879809}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge2VhY2gsIGV4dGVuZH0gZnJvbSAiQC91dGlscy9leHRlbmQiOw0KaW1wb3J0IFRSYWRpbyBmcm9tICIuL3R5cGUvcmFkaW8iOw0KaW1wb3J0IFRUZXh0YXJlYSBmcm9tICIuL3R5cGUvdGV4dGFyZWEiOw0KaW1wb3J0IFRDaGVja2JveCBmcm9tICIuL3R5cGUvY2hlY2tib3giOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogImUtcGFwZXItZm9ybSIsDQogICAgY29tcG9uZW50czoge1RDaGVja2JveCwgVFRleHRhcmVhLCBUUmFkaW99LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBpc1NlbGVjdDogdHJ1ZSwNCiAgICAgICAgICAgIHBhcGVyTGlzdDogW10sDQogICAgICAgICAgICB0aW1lOiAwLA0KICAgICAgICAgICAga3NUaW1lVGV4dDogJycNCiAgICAgICAgfQ0KICAgIH0sDQogICAgcHJvcHM6IHsNCiAgICAgICAgbGlzdDogQXJyYXksDQogICAgICAgIGRhYW46IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICdkYWFuJw0KICAgICAgICB9LA0KICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgIHRpbXU6IFN0cmluZywNCiAgICAgICAgZGFueHVhbnRpOiB7DQogICAgICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgICAgICBkZWZhdWx0OiAnJw0KICAgICAgICB9LA0KICAgICAgICBkdW94dWFudGk6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnDQogICAgICAgIH0sDQogICAgICAgIHBhbmR1YW50aTogew0KICAgICAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICAgICAgZGVmYXVsdDogJycNCiAgICAgICAgfSwNCiAgICAgICAgc3VjY2VzczogU3RyaW5nLA0KICAgICAgICBqaWVzaGk6IFN0cmluZywNCiAgICAgICAga3NUaW1lOiBbTnVtYmVyLFN0cmluZ10NCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGxpc3Q6IHsNCiAgICAgICAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYXBlckxpc3QoKQ0KICAgICAgICAgICAgICAgIHRoaXMuaW5pdEthb3NoaVRpbWUoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkZWVwOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaXNEaXNhYmxlZChyKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMuc3VjY2VzcyAmJiAhdGhpcy5qaWVzaGkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gci56aW11ICE9ICcnOw0KICAgICAgICB9LA0KICAgICAgICBzdWJtaXRQb3N0KCkgew0KICAgICAgICAgICAgdmFyIGVuZHRpbWUgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gZXh0ZW5kKHRydWUsIFtdLCB0aGlzLnBhcGVyTGlzdCk7DQogICAgICAgICAgICBlYWNoKHJlc3VsdCwgKGksIG8pID0+IHsNCiAgICAgICAgICAgICAgICBkZWxldGUgby5wYXBlcjsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWJtaXQnLCByZXN1bHQsIGVuZHRpbWUgLSB0aGlzLnRpbWUpOw0KICAgICAgICB9LA0KICAgICAgICB1cGRhdGVQYXBlckxpc3QoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOw0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdOw0KICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmxpc3QpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2kgPSB0aGlzLmxpc3RbaV07DQogICAgICAgICAgICAgICAgY2kucGFwZXIgPSBjaVt0aGlzLmRhYW5dOw0KICAgICAgICAgICAgICAgIHZhciBvYmogPSB7DQogICAgICAgICAgICAgICAgICAgIHppbXU6ICcnLA0KICAgICAgICAgICAgICAgICAgICBkYWFuOiAnJywNCiAgICAgICAgICAgICAgICAgICAgZGVmZW46IDANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHZhciByZXMgPSBleHRlbmQoe30sIGNpLCBvYmopOw0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJlcyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnBhcGVyTGlzdCA9IHJlc3VsdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBpbml0S2Fvc2hpVGltZSgpIHsNCiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgICAgICAgIHZhciBrc1RpbWUgPSBNYXRoLmZsb29yKHRoaXMua3NUaW1lKTsNCiAgICAgICAgICAgIGlmIChrc1RpbWUgJiYgIWlzTmFOKGtzVGltZSkgJiYga3NUaW1lID4gMCkgew0KDQogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsNCg0KICAgICAgICAgICAgICAgIHZhciBmZW5zaHUgPSBrc1RpbWU7DQogICAgICAgICAgICAgICAgdmFyIGtleSA9ICJzdG9wVGltZSI7DQogICAgICAgICAgICAgICAgdmFyIHN0b3BUaW1lID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSArIDYwICogZmVuc2h1ICogMTAwMDsNCiAgICAgICAgICAgICAgICBzdG9wVGltZSA9IG5ldyBEYXRlKE1hdGguZmxvb3Ioc3RvcFRpbWUpKTsNCg0KICAgICAgICAgICAgICAgIHZhciBjbG9jayA9ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpID4gc3RvcFRpbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3VibWl0UG9zdCh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpLC8v5b2T5YmN5pe26Ze0DQogICAgICAgICAgICAgICAgICAgICAgICBoID0gdG9kYXkuZ2V0SG91cnMoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG0gPSB0b2RheS5nZXRNaW51dGVzKCksDQogICAgICAgICAgICAgICAgICAgICAgICBzID0gdG9kYXkuZ2V0U2Vjb25kcygpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcEggPSBzdG9wVGltZS5nZXRIb3VycygpLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RvcE0gPSBzdG9wVGltZS5nZXRNaW51dGVzKCksDQogICAgICAgICAgICAgICAgICAgICAgICBzdG9wUyA9IHN0b3BUaW1lLmdldFNlY29uZHMoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNoZW55dSA9IHN0b3BUaW1lLmdldFRpbWUoKSAtIHRvZGF5LmdldFRpbWUoKSwvL+WAkuiuoeaXtuavq+enkuaVsA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hlbmd5dUQgPSBwYXJzZUludChzaGVueXUgLyAoNjAgKiA2MCAqIDI0ICogMTAwMCkpLC8v6L2s5o2i5Li65aSpDQogICAgICAgICAgICAgICAgICAgICAgICBEID0gcGFyc2VJbnQoc2hlbnl1KSAtIHBhcnNlSW50KHNoZW5neXVEICogNjAgKiA2MCAqIDI0ICogMTAwMCksLy/pmaTljrvlpKnnmoTmr6vnp5LmlbANCiAgICAgICAgICAgICAgICAgICAgICAgIHNoZW5neXVIID0gcGFyc2VJbnQoRCAvICg2MCAqIDYwICogMTAwMCkpLC8v6Zmk5Y675aSp55qE5q+r56eS5pWw6L2s5o2i5oiQ5bCP5pe2DQogICAgICAgICAgICAgICAgICAgICAgICBIID0gRCAtIHNoZW5neXVIICogNjAgKiA2MCAqIDEwMDAsLy/pmaTljrvlpKnjgIHlsI/ml7bnmoTmr6vnp5LmlbANCiAgICAgICAgICAgICAgICAgICAgICAgIHNoZW5neXVNID0gcGFyc2VJbnQoSCAvICg2MCAqIDEwMDApKSwvL+mZpOWOu+WkqeeahOavq+enkuaVsOi9rOaNouaIkOWIhumSnw0KICAgICAgICAgICAgICAgICAgICAgICAgTSA9IEggLSBzaGVuZ3l1TSAqIDYwICogMTAwMDsvL+mZpOWOu+WkqeOAgeWwj+aXtuOAgeWIhueahOavq+enkuaVsA0KICAgICAgICAgICAgICAgICAgICB2YXIgUyA9IHBhcnNlSW50KChzaGVueXUgLSBzaGVuZ3l1RCAqIDYwICogNjAgKiAyNCAqIDEwMDAgLSBzaGVuZ3l1SCAqIDYwICogNjAgKiAxMDAwIC0gc2hlbmd5dU0gKiA2MCAqIDEwMDApIC8gMTAwMCkvL+mZpOWOu+WkqeOAgeWwj+aXtuOAgeWIhueahOavq+enkuaVsOi9rOWMluS4uuenkg0KICAgICAgICAgICAgICAgICAgICB0aGF0LmtzVGltZVRleHQgPSAn5Ymp5L2Z5pe26Ze077yaJyArIChzaGVuZ3l1SCArICLlsI/ml7YiICsgc2hlbmd5dU0gKyAi5YiGIiArIFMgKyAi56eSIikNCg0KICAgICAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCJjbG9jaygpIiw1MDApOw0KICAgICAgICAgICAgICAgICAgICAvL3NldFRpbWVvdXQoY2xvY2ssIDUwMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChjbG9jaywxMDAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLnRpbWUgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7DQogICAgICAgIHRoaXMudXBkYXRlUGFwZXJMaXN0KCk7DQogICAgICAgIHRoaXMuaW5pdEthb3NoaVRpbWUoKTsNCiAgICB9DQoNCn0NCg=="},{"version":3,"sources":["paper-form.vue"],"names":[],"mappings":";AAiDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"paper-form.vue","sourceRoot":"src/components/paper","sourcesContent":["<template>\r\n    <div v-if=\"paperList.length > 0\">\r\n        <div class=\"ksTime\" v-if=\"ksTimeText\">{{ ksTimeText }}</div>\r\n        <div v-for=\"(r,j) in paperList\">\r\n            <div class=\"zhangjie-list\" style=\"margin-bottom: 10px; padding: 10px; background: #fff\">\r\n                <h3>第{{ j+1 }}题：{{ r[timu] }}</h3>\r\n                <div>\r\n                    <template v-if=\"danxuanti.indexOf(r[type]) != -1 || panduanti.indexOf(r[type]) != -1\">\r\n                        <t-radio :obj=\"r\" :paper=\"r.paper\" :daan=\"daan\" :disabled=\"isDisabled(r)\"></t-radio>\r\n                        <div v-if=\"success && r.zimu\" class=\"success-daan\">\r\n                            <div class=\"success\" v-if=\"Math.floor(r.defen) > 0\">\r\n                                <i class=\"el-icon-success\" style=\"color: #008744\"></i>\r\n                                回答正确\r\n                            </div>\r\n                            <div class=\"error\" v-else>\r\n                                <i class=\"el-icon-error\" style=\"color: #bf0000\"></i>\r\n                                回答错误,<span style=\"color: #990000\">正确答案 {{ r[success] }}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"jieshi\" v-if=\"jieshi && r.zimu\">\r\n                            {{ r[jieshi] }}\r\n                        </div>\r\n\r\n                    </template>\r\n                    <template v-else-if=\"duoxuanti.indexOf(r[type]) != -1\">\r\n                        <t-checkbox :obj=\"r\" :paper=\"r.paper\" :daan=\"daan\"></t-checkbox>\r\n                        <div v-if=\"success && r.zimu\">\r\n                            正确答案：{{ r[success] }}\r\n                        </div>\r\n                        <div v-if=\"jieshi && r.zimu\">\r\n                            {{ r[jieshi] }}\r\n                        </div>\r\n\r\n                    </template>\r\n                    <template v-else>\r\n                        <t-textarea :obj=\"r\"></t-textarea>\r\n                    </template>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"ksTime\" v-if=\"ksTimeText\">{{ ksTimeText }}</div>\r\n        <div class=\"mt10\">\r\n            <el-button type=\"success\" @click=\"submitPost\">提交</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {each, extend} from \"@/utils/extend\";\r\nimport TRadio from \"./type/radio\";\r\nimport TTextarea from \"./type/textarea\";\r\nimport TCheckbox from \"./type/checkbox\";\r\n\r\nexport default {\r\n    name: \"e-paper-form\",\r\n    components: {TCheckbox, TTextarea, TRadio},\r\n    data() {\r\n        return {\r\n            isSelect: true,\r\n            paperList: [],\r\n            time: 0,\r\n            ksTimeText: ''\r\n        }\r\n    },\r\n    props: {\r\n        list: Array,\r\n        daan: {\r\n            type: String,\r\n            default: 'daan'\r\n        },\r\n        type: String,\r\n        timu: String,\r\n        danxuanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        duoxuanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        panduanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        success: String,\r\n        jieshi: String,\r\n        ksTime: [Number,String]\r\n    },\r\n    watch: {\r\n        list: {\r\n            handler() {\r\n                this.updatePaperList()\r\n                this.initKaoshiTime();\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        isDisabled(r) {\r\n            if (!this.success && !this.jieshi) {\r\n                return false;\r\n            }\r\n            return r.zimu != '';\r\n        },\r\n        submitPost() {\r\n            var endtime = Math.floor(new Date().getTime() / 1000);\r\n            var result = extend(true, [], this.paperList);\r\n            each(result, (i, o) => {\r\n                delete o.paper;\r\n            });\r\n\r\n            this.$emit('submit', result, endtime - this.time);\r\n        },\r\n        updatePaperList() {\r\n            console.log(this.list);\r\n            var result = [];\r\n            for (var i in this.list) {\r\n                var ci = this.list[i];\r\n                ci.paper = ci[this.daan];\r\n                var obj = {\r\n                    zimu: '',\r\n                    daan: '',\r\n                    defen: 0\r\n                };\r\n                var res = extend({}, ci, obj);\r\n                result.push(res);\r\n            }\r\n            this.paperList = result;\r\n        },\r\n\r\n        initKaoshiTime() {\r\n            var that = this;\r\n            var ksTime = Math.floor(this.ksTime);\r\n            if (ksTime && !isNaN(ksTime) && ksTime > 0) {\r\n\r\n                clearInterval(this.timer);\r\n\r\n                var fenshu = ksTime;\r\n                var key = \"stopTime\";\r\n                var stopTime = (new Date().getTime()) + 60 * fenshu * 1000;\r\n                stopTime = new Date(Math.floor(stopTime));\r\n\r\n                var clock = () => {\r\n                    if (new Date().getTime() > stopTime) {\r\n                        that.submitPost(true);\r\n                        return;\r\n                    }\r\n                    var today = new Date(),//当前时间\r\n                        h = today.getHours(),\r\n                        m = today.getMinutes(),\r\n                        s = today.getSeconds();\r\n                    var stopH = stopTime.getHours(),\r\n                        stopM = stopTime.getMinutes(),\r\n                        stopS = stopTime.getSeconds();\r\n                    var shenyu = stopTime.getTime() - today.getTime(),//倒计时毫秒数\r\n                        shengyuD = parseInt(shenyu / (60 * 60 * 24 * 1000)),//转换为天\r\n                        D = parseInt(shenyu) - parseInt(shengyuD * 60 * 60 * 24 * 1000),//除去天的毫秒数\r\n                        shengyuH = parseInt(D / (60 * 60 * 1000)),//除去天的毫秒数转换成小时\r\n                        H = D - shengyuH * 60 * 60 * 1000,//除去天、小时的毫秒数\r\n                        shengyuM = parseInt(H / (60 * 1000)),//除去天的毫秒数转换成分钟\r\n                        M = H - shengyuM * 60 * 1000;//除去天、小时、分的毫秒数\r\n                    var S = parseInt((shenyu - shengyuD * 60 * 60 * 24 * 1000 - shengyuH * 60 * 60 * 1000 - shengyuM * 60 * 1000) / 1000)//除去天、小时、分的毫秒数转化为秒\r\n                    that.ksTimeText = '剩余时间：' + (shengyuH + \"小时\" + shengyuM + \"分\" + S + \"秒\")\r\n\r\n                    // setTimeout(\"clock()\",500);\r\n                    //setTimeout(clock, 500);\r\n                }\r\n                this.timer = setInterval(clock,1000);\r\n            }\r\n        }\r\n\r\n    },\r\n    created() {\r\n        this.time = Math.floor(new Date().getTime() / 1000);\r\n        this.updatePaperList();\r\n        this.initKaoshiTime();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style type=\"text/scss\" lang=\"scss\" scoped>\r\n.success-daan {\r\n    padding: 10px 0;\r\n\r\n}\r\n\r\n.jieshi {\r\n    padding: 10px;\r\n    background: #f2f2f2;\r\n}\r\n.ksTime{\r\n    padding: 8px;\r\n    background: #740909;\r\n    color: #ffffff;\r\n}\r\n</style>"]}]}