{"remainingRequest":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\paper\\paper-form.vue?vue&type=style&index=0&id=21f9f4d8&lang=scss&scoped=true","dependencies":[{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\src\\components\\paper\\paper-form.vue","mtime":1619169822000},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":1755258878741},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1755258880305},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":1755258879226},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755258878262},{"path":"D:\\实训2\\springboot和vue旅游系统蓝色3322\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1755258879809}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouc3VjY2Vzcy1kYWFuIHsNCiAgICBwYWRkaW5nOiAxMHB4IDA7DQoNCn0NCg0KLmppZXNoaSB7DQogICAgcGFkZGluZzogMTBweDsNCiAgICBiYWNrZ3JvdW5kOiAjZjJmMmYyOw0KfQ0KLmtzVGltZXsNCiAgICBwYWRkaW5nOiA4cHg7DQogICAgYmFja2dyb3VuZDogIzc0MDkwOTsNCiAgICBjb2xvcjogI2ZmZmZmZjsNCn0NCg=="},{"version":3,"sources":["paper-form.vue"],"names":[],"mappings":";AAuLA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"paper-form.vue","sourceRoot":"src/components/paper","sourcesContent":["<template>\r\n    <div v-if=\"paperList.length > 0\">\r\n        <div class=\"ksTime\" v-if=\"ksTimeText\">{{ ksTimeText }}</div>\r\n        <div v-for=\"(r,j) in paperList\">\r\n            <div class=\"zhangjie-list\" style=\"margin-bottom: 10px; padding: 10px; background: #fff\">\r\n                <h3>第{{ j+1 }}题：{{ r[timu] }}</h3>\r\n                <div>\r\n                    <template v-if=\"danxuanti.indexOf(r[type]) != -1 || panduanti.indexOf(r[type]) != -1\">\r\n                        <t-radio :obj=\"r\" :paper=\"r.paper\" :daan=\"daan\" :disabled=\"isDisabled(r)\"></t-radio>\r\n                        <div v-if=\"success && r.zimu\" class=\"success-daan\">\r\n                            <div class=\"success\" v-if=\"Math.floor(r.defen) > 0\">\r\n                                <i class=\"el-icon-success\" style=\"color: #008744\"></i>\r\n                                回答正确\r\n                            </div>\r\n                            <div class=\"error\" v-else>\r\n                                <i class=\"el-icon-error\" style=\"color: #bf0000\"></i>\r\n                                回答错误,<span style=\"color: #990000\">正确答案 {{ r[success] }}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"jieshi\" v-if=\"jieshi && r.zimu\">\r\n                            {{ r[jieshi] }}\r\n                        </div>\r\n\r\n                    </template>\r\n                    <template v-else-if=\"duoxuanti.indexOf(r[type]) != -1\">\r\n                        <t-checkbox :obj=\"r\" :paper=\"r.paper\" :daan=\"daan\"></t-checkbox>\r\n                        <div v-if=\"success && r.zimu\">\r\n                            正确答案：{{ r[success] }}\r\n                        </div>\r\n                        <div v-if=\"jieshi && r.zimu\">\r\n                            {{ r[jieshi] }}\r\n                        </div>\r\n\r\n                    </template>\r\n                    <template v-else>\r\n                        <t-textarea :obj=\"r\"></t-textarea>\r\n                    </template>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"ksTime\" v-if=\"ksTimeText\">{{ ksTimeText }}</div>\r\n        <div class=\"mt10\">\r\n            <el-button type=\"success\" @click=\"submitPost\">提交</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {each, extend} from \"@/utils/extend\";\r\nimport TRadio from \"./type/radio\";\r\nimport TTextarea from \"./type/textarea\";\r\nimport TCheckbox from \"./type/checkbox\";\r\n\r\nexport default {\r\n    name: \"e-paper-form\",\r\n    components: {TCheckbox, TTextarea, TRadio},\r\n    data() {\r\n        return {\r\n            isSelect: true,\r\n            paperList: [],\r\n            time: 0,\r\n            ksTimeText: ''\r\n        }\r\n    },\r\n    props: {\r\n        list: Array,\r\n        daan: {\r\n            type: String,\r\n            default: 'daan'\r\n        },\r\n        type: String,\r\n        timu: String,\r\n        danxuanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        duoxuanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        panduanti: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        success: String,\r\n        jieshi: String,\r\n        ksTime: [Number,String]\r\n    },\r\n    watch: {\r\n        list: {\r\n            handler() {\r\n                this.updatePaperList()\r\n                this.initKaoshiTime();\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    methods: {\r\n        isDisabled(r) {\r\n            if (!this.success && !this.jieshi) {\r\n                return false;\r\n            }\r\n            return r.zimu != '';\r\n        },\r\n        submitPost() {\r\n            var endtime = Math.floor(new Date().getTime() / 1000);\r\n            var result = extend(true, [], this.paperList);\r\n            each(result, (i, o) => {\r\n                delete o.paper;\r\n            });\r\n\r\n            this.$emit('submit', result, endtime - this.time);\r\n        },\r\n        updatePaperList() {\r\n            console.log(this.list);\r\n            var result = [];\r\n            for (var i in this.list) {\r\n                var ci = this.list[i];\r\n                ci.paper = ci[this.daan];\r\n                var obj = {\r\n                    zimu: '',\r\n                    daan: '',\r\n                    defen: 0\r\n                };\r\n                var res = extend({}, ci, obj);\r\n                result.push(res);\r\n            }\r\n            this.paperList = result;\r\n        },\r\n\r\n        initKaoshiTime() {\r\n            var that = this;\r\n            var ksTime = Math.floor(this.ksTime);\r\n            if (ksTime && !isNaN(ksTime) && ksTime > 0) {\r\n\r\n                clearInterval(this.timer);\r\n\r\n                var fenshu = ksTime;\r\n                var key = \"stopTime\";\r\n                var stopTime = (new Date().getTime()) + 60 * fenshu * 1000;\r\n                stopTime = new Date(Math.floor(stopTime));\r\n\r\n                var clock = () => {\r\n                    if (new Date().getTime() > stopTime) {\r\n                        that.submitPost(true);\r\n                        return;\r\n                    }\r\n                    var today = new Date(),//当前时间\r\n                        h = today.getHours(),\r\n                        m = today.getMinutes(),\r\n                        s = today.getSeconds();\r\n                    var stopH = stopTime.getHours(),\r\n                        stopM = stopTime.getMinutes(),\r\n                        stopS = stopTime.getSeconds();\r\n                    var shenyu = stopTime.getTime() - today.getTime(),//倒计时毫秒数\r\n                        shengyuD = parseInt(shenyu / (60 * 60 * 24 * 1000)),//转换为天\r\n                        D = parseInt(shenyu) - parseInt(shengyuD * 60 * 60 * 24 * 1000),//除去天的毫秒数\r\n                        shengyuH = parseInt(D / (60 * 60 * 1000)),//除去天的毫秒数转换成小时\r\n                        H = D - shengyuH * 60 * 60 * 1000,//除去天、小时的毫秒数\r\n                        shengyuM = parseInt(H / (60 * 1000)),//除去天的毫秒数转换成分钟\r\n                        M = H - shengyuM * 60 * 1000;//除去天、小时、分的毫秒数\r\n                    var S = parseInt((shenyu - shengyuD * 60 * 60 * 24 * 1000 - shengyuH * 60 * 60 * 1000 - shengyuM * 60 * 1000) / 1000)//除去天、小时、分的毫秒数转化为秒\r\n                    that.ksTimeText = '剩余时间：' + (shengyuH + \"小时\" + shengyuM + \"分\" + S + \"秒\")\r\n\r\n                    // setTimeout(\"clock()\",500);\r\n                    //setTimeout(clock, 500);\r\n                }\r\n                this.timer = setInterval(clock,1000);\r\n            }\r\n        }\r\n\r\n    },\r\n    created() {\r\n        this.time = Math.floor(new Date().getTime() / 1000);\r\n        this.updatePaperList();\r\n        this.initKaoshiTime();\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style type=\"text/scss\" lang=\"scss\" scoped>\r\n.success-daan {\r\n    padding: 10px 0;\r\n\r\n}\r\n\r\n.jieshi {\r\n    padding: 10px;\r\n    background: #f2f2f2;\r\n}\r\n.ksTime{\r\n    padding: 8px;\r\n    background: #740909;\r\n    color: #ffffff;\r\n}\r\n</style>"]}]}